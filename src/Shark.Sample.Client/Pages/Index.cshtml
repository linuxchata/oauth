@page
@model IndexModel
@{
    ViewData["Title"] = "OAuth Client";
}

<div class="container">
    <h1 class="page-title">OAuth Client</h1>

    <div class="flow-grid">
        <!-- Authorization Code Section -->
        <div class="flow-section">
            <h2 class="section-title">Authorization Code Flow</h2>
            <div class="button-container">
                <form method="post" asp-page-handler="GetAuthTokenAuthorizationCode" class="form-container">
                    <button type="submit" id="GetAuthTokenAuthorizationCode" class="btn btn-primary">Get Token</button>
                </form>
                <form method="post" asp-page-handler="GetDataAuthorizationCode" class="form-container">
                    <button type="submit" id="GetDataAuthorizationCode" class="btn btn-success">Get Data</button>
                </form>
            </div>
        </div>

        <!-- PKCE Section -->
        <div class="flow-section">
            <h2 class="section-title">PKCE Flow</h2>
            <div class="button-container">
                <form method="post" asp-page-handler="GetAuthTokenAuthorizationCodePkce" class="form-container">
                    <button type="submit" id="GetAuthTokenAuthorizationCodePkce" class="btn btn-primary">Get Token</button>
                </form>
                <form method="post" asp-page-handler="GetDataAuthorizationCodePkce" class="form-container">
                    <button type="submit" id="GetDataAuthorizationCodePkce" class="btn btn-success">Get Data</button>
                </form>
            </div>
        </div>

        <!-- Implicit Section -->
        <div class="flow-section">
            <h2 class="section-title">Implicit Flow</h2>
            <div class="button-container">
                <form method="post" asp-page-handler="GetAuthTokenImplicit" class="form-container">
                    <button type="submit" id="GetAuthTokenImplicit" class="btn btn-primary">Get Token</button>
                </form>
                <form method="post" asp-page-handler="GetDataImplicit" class="form-container">
                    <button type="submit" id="GetDataImplicit" class="btn btn-success">Get Data</button>
                </form>
            </div>
        </div>

        <!-- Other Flows Section -->
        <div class="flow-section">
            <h2 class="section-title">Other Flows</h2>
            <div class="button-container">
                <form method="post" asp-page-handler="GetDataResourceOwnerCredentials" class="form-container">
                    <button type="submit" id="GetDataResourceOwnerCredentials" class="btn btn-purple">Resource Owner Credentials</button>
                </form>
                <form method="post" asp-page-handler="GetDataClientCredentials" class="form-container">
                    <button type="submit" id="GetDataClientCredentials" class="btn btn-orange">Client Credentials</button>
                </form>
            </div>
        </div>
    </div>

    @if (Model.Data != null)
    {
        <div class="response-container">
            <h2 class="response-title">Response Data</h2>
            @foreach (var item in Model.Data)
            {
                <div class="response-item">
                    <span class="response-date">@Html.DisplayFor(modelItem => item.Date):&nbsp;</span>
                    <span class="response-temp">@Html.DisplayFor(modelItem => item.TemperatureC)&degC&nbsp;</span>
                    <span class="response-summary">@Html.DisplayFor(modelItem => item.Summary)</span>
                </div>
            }
        </div>
    }
</div>